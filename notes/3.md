# 3 ブログアプリの実装（後編）

- start: 14:44
- 途中: 15:16

- start: 16:36
- 途中: 17:02

- start: 08:56

## 3-1

CRUD機能にはどのようなものがあるか改めて確認しておきましょう。
DjangoにおいてCRUD機能を開発するには「URLパターン、ビュー、テンプレート」の開発が必要になる。
DjangoにおいてCRUD機能を開発するには「URLパターン、ビュー、テンプレート」の関係性をどのように定義するかあらかじめ設計する必要がある。

Djangoでは、テンプレートファイル内で静的ファイル(cssファイル等）を参照するために{% load static %}というコードを記述する必要があります。
これは頻繁に利用するコードですのでよく覚えておきましょう。

htmlの要素は外に出せる。
widgetsのside_category.htmlと、blog_list.htmlを参照

{% csrf_token %}と記載することでCSRF(Cross Site Request Forgeries)対策の設定を行っています。

CSRFとはセキュリティの脆弱性をついた攻撃のことで、訪問者のログイン情報を悪用してサイトに何らかの操作を行うことを目的としたリンクやフォームボタン、 JavaScript を設置した悪意のあるウェブサイトによって行われます。

また、関連する攻撃として、ユーザーを騙して別のユーザー権限でログインさせる ‘ログイン CSRF’ と呼ばれる攻撃もありますが、Djangoでは{% csrf_token %}と記載するだけでセキュリティ対策が施されます。
フォームでPOSTメソッドを指定する場合は必ずこのCSRF対策コードを追記するようにします。

Djangoでは汎用クラスビュー(DetailView)を使うと簡単に詳細画面を開発することができる。
詳細画面を開発するためには「URLパターンの定義、ビュー関数の定義、テンプレートの定義」の３つが必要。
詳細画面用のURLパターンでは<int:pk>を指定する。
DetailView(汎用クラスベースビュー）を使った場合、詳細画面のテンプレート側にはobjectという名称で該当データが渡される。
Djangoでは、テンプレートでURLの逆引き参照する際に{% url '名前空間名:URLパターン名称' 引数 %} のように引数を渡すことができる。

Djangoではhtml内でpythonのif文を利用することもできます。
以下の様に{% if 変数名 == "比較文字列" %}とすることでビューから渡って来た変数の中身をチェックして処理を分岐させることができます。
